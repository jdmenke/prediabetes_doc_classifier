# prediabetes_doc_classifier
This relates to work involving prediabetes classification on biomedical manuscripts using annotations from prior meta-analyses. All code and data necessary to replicate model development is provided. 

Initially, PDFs for every article mentioned within either meta-analysis were converted to xml using GROBID. The PDF and XML output files are both provided. To generate your own XML files using the provided PDFs, please follow the GROBID batch tutorial (https://grobid.readthedocs.io/en/latest/Grobid-batch/). After, run the preprocessing/xml2txt.py file, which generates text files supplemented with abstracts extracted from PubMed. A CSV containing these abstracts is provided. This will need to be generated for new articles. 

To generate labels for comparison, run create_labels.py, which will create both strict and lenient label sets. The strict label set only uses labels when they are annotated in both meta-analyses. The lenient label set uses labels when they are annotated in either meta-analysis. Lenient labels are primarily used in this analysis. These label sets are provided in the data directory.

For the term frequency models, train the section normalizer using preprocessing/train_normalize_sections.py. This creates a model that normalizes all manuscript headings (i.e., introduction, methods, results, etc.). Then, run the term_freq_classifiers/extract_data_sections.py and term_freq_classifiers/extract_data_whole_paper.py to generate term frequency feature data normalized by section. These files contain the regex patterns for each entity. Models using these feature sets can be trained using term_freq_classifiers/train_document_classifier.py.

For deep learning models, all scripts can be found within the deep_learning_classifiers directory. The extractive_summarization.ipynb file can be used to train a model for sentence classification, which we used for extractive summarization. The summary_predictions.ipynb file was used to generate summaries rergarding the research articles within the Cai and Gujral meta-analyses. Finally, the deep_learning_multilabel_classification.ipynb file was used to develop our transformer-based multilabel document classifiers. Please note, file paths may need to be adjusted.
